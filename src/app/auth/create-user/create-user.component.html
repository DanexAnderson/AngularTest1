
<div class='container mt-5'>

  <h2 class='text-primary text-center mb-4'>Create New User</h2>

      <form  [formGroup] ="form" (submit)="onPost()"  *ngIf='!isloading' >

    <mat-card class='border col-12 col-lg-8 container-fluid shadow'>

      <!--------------------------------- First Name Field ---------------------->


      <mat-form-field class='w-100'>

            <input matInput  placeholder="First Name"  formControlName='firstname'
            type='text'class='bg-light p-2'  required>
            <mat-error *ngIf="form.get('firstname').invalid  && [valid]==1">Please enter your first name</mat-error>

        </mat-form-field>

        <!--------------------------------- Last Name Field ---------------------->

        <mat-form-field class='w-100'>

            <input matInput  placeholder="Last Name"  formControlName='lastname'
            type='text'class='bg-light p-2' required>
            <mat-error *ngIf="form.get('lastname').invalid  && [valid]==1">Please enter your last name</mat-error>

        </mat-form-field>

        <!--------------------------------- Email Field ---------------------->

      <mat-form-field class='w-100'>

          <input matInput  placeholder="Email"  formControlName='email'
          type='email'class='bg-light p-2' required email>
          <mat-error *ngIf="form.get('email').invalid  && [valid]==1">Please Enter a Valid Email</mat-error>

      </mat-form-field>
  <br><br>

      <!--------------------------------- Password Field ---------------------->

    <mat-form-field class='w-100' hintLabel = "Should be at Least 6 characters Long">

      <input matInput type='password' formControlName='password'  required
       placeholder="Password" class='bg-light p-2 '
         minlength="6" />
         <mat-hint align ='end'>{{ form.value.password?.length}} of 6</mat-hint>
        <mat-error *ngIf="form.get('password').invalid  && [valid]==1">Please Enter a Valid Password</mat-error>
    </mat-form-field>


  <br><br>

    <!--------------------------------- User Role Selection Field ---------------------->

      <mat-form-field class='mb-4'>

        <mat-label><i>User or Administrator</i></mat-label>
        <select matNativeControl  formControlName='userRole' required>
          <option value=false> User</option>
          <option value=true> Administrator</option>
         </select>
      </mat-form-field>

<br/>



    <button *ngIf='!isloading' [disabled] ="form.invalid" class='mt-3 pl-2 pr-2 mt-2'
     mat-raised-button color='accent' type='submit' >Save</button>

  </mat-card>

      <mat-spinner *ngIf='isloading'></mat-spinner>

  </form>
  <br><br>

  </div>
